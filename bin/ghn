#!/usr/bin/env ruby
$LOAD_PATH << File.join(__dir__, '..', 'lib')
require 'ghn'
require 'optparse'

token = Ghn::Token.new
unless token.valid?
  puts Ghn.no_token
  exit!
end

command = Ghn::Command.new(ARGV)
unless command.valid?
  command.print_invalid
  puts Ghn.usage
  exit!
end

ghn = Ghn.new(token, command)
ghn.run_print
